<!--
 * @Description  : 添加简历
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加简历</title>  

    <link rel="stylesheet" href="../../style/css/resume.css">
    <!-- 插件 -->
    <link rel="stylesheet" href="../../style/plugins-css/scs.min.css">
    <link rel="stylesheet" href="../../js/lib/src/time-plugins/mui.picker.min.css">
    <style>
        .mui-btn{
            border: none;
            border-radius: 5px;
            background-color: #fff;
        }
        .mui-btn-blue{
            background-color: #007aff;
            color: #fff;
        }
        .mui-dtpicker-title{
            display: flex;
        }
        .mui-dtpicker-title h5{
            font-size: 0.3rem;
        }
    </style>
</head>
<body>
    <form action="">
        <div class="name">
            <div class="text">
                <div class="">真实姓名<span>*</span></div>
            </div>
            <input type="text" value="" placeholder="请输入姓名">
        </div>

        <div class="gender">
            <div class="text">
                <div class="">真实性别<span>*</span></div>
            </div>
            <div class="gender-wrap">
                <div class="nan">                 
                    <input name="Fruit" id="nan" type="radio" class="ipt-gender"/>
                    <label for="nan">男</label>                   
                </div>
                <div class="nv">                   
                    <input name="Fruit" id="nv" type="radio" class="ipt-gender"/>
                    <label for="nv">女</label>
                </div>
            </div>
        </div>

        <div class="birth_year ipt-common">
            <div class="text">
                <div class="">出生年份<span>*</span></div>
            </div>
            <div id="tiem_select" style="display: flex; flex: 1; align-items: center;">
                <input type="text" value="" readonly placeholder="请选择出生年份" id="birthday" onclick="showSelect('birthday')">
                <img src="../../image/right.png" alt="">
            </div>
        </div>
        <div class="education ipt-common">
            <div class="text">
                <div class="">最高学历<span>*</span></div>
            </div>
            <input type="text" value="" placeholder="亲选择最高学历" id="birthday2" onclick="showSelectTwo('birthday')">
            <img src="../../image/right.png" alt="">
        </div>
        <div class="work_year ipt-common">
            <div class="text">
                <div class="">工作年限<span>*</span></div>
            </div>
            <input type="text" value="" placeholder="亲选择工作年限">
            <img src="../../image/right.png" alt="">
        </div>
        <div class="position ipt-common">
            <div class="text">
                <div class="">期望职位<span>*</span></div>
            </div>
            <input type="text" value="" placeholder="请选择期望职位">
            <img src="../../image/right.png" alt="">
        </div>
        <div class="money ipt-common">
            <div class="text">
                <div class="">期望月薪<span>*</span></div>
            </div>
            <input type="text" value="" placeholder="请选择期望月薪">
            <img src="../../image/right.png" alt="">
        </div>
        <div class="region ipt-common">
            <div class="text">
                <div class="">期望区域<span>*</span></div>
            </div>
            <!-- <input type="text" value="" placeholder="请选择期望区域"> -->
            <input type="text" readonly placeholder="Click me to pick an address" id="myAddrs" name="addr" data-key="22-62-345" value="重庆 重庆市 万州区" />
            <img src="../../image/right.png" alt="">
        </div>

        <div class="gender">
            <div class="text">
                <div class="">求职状态<span>*</span></div>
            </div>
            <div class="gender-wrap">
                <div class="nan">                 
                    <input name="Fruit" id="state1" type="radio" class="ipt-gender"/>
                    <label for="state1">求职中</label>                   
                </div>
                <div class="nv">                   
                    <input name="Fruit" id="state2" type="radio" class="ipt-gender"/>
                    <label for="state2">求职中(在上班)</label>
                </div>
                <div class="nv">         
                    <input name="Fruit" id="state3" type="radio" class="ipt-gender"/>
                    <label for="state3">已入职</label>
                </div>
            </div>
        </div>

        <div class="advantage">
            <div class="text">
                <div class="advantage-text">个人亮点</div>
                <div class="num">(多选)</div>
            </div>
            <div class="checkbox-wrap">   
                <input id="1" type="checkbox" class="checkbox" value="交通补贴1">
                <label for="1">交通补贴</label>
                <input id="2" type="checkbox" class="checkbox" value="交通补贴2">
                <label for="2">交通补贴</label>
                <input id="3" type="checkbox" class="checkbox" value="交通补贴3">
                <label for="3">交通补贴</label>
                <input id="4" type="checkbox" class="checkbox" value="交通补贴4">
                <label for="4">交通补贴</label>
            </div>
        </div>

        <div class="describe">
            <div class="text">
                <div class="">自我描述<span>*</span></div>
            </div>
            <textarea name="" id=""  placeholder="请输入10-500/汉字"></textarea>
        </div>

        <div class="look-wrap">
            <div class="look">
                <img src="../../image/brown.png" alt=""><span>看看别人怎么写</span>
            </div>
            <div class="title">
                <div class="left">
                    <img src="../../image/avatar.png" alt="">
                    <span>平面设计</span>
                </div>
                <div class="right">
                    <img src="../../image/refresh.png" alt="">
                    <span>换一个</span>
                </div>
            </div>
            <div class="content">
                我曾供稿各种行业微信软文：餐饮行业、母婴零售、女装零售、
                酒店旅游等各个行业。本人学习了乐嘉园性格色彩课程。
                能按照 性格 分析 的角度 分析 并撰写文章。
            </div>
        </div>

        <div class="works">
            <div class="text">
                    <div class="logo">上传作品 <span>*</span></div>
                    <div class="num">(多张)</div>
            </div>
            <div class="img-wrap uploadImgBtn" id="uploadImgBtn">
                <input class="uploadImg" type="file" name="file" onchange="selectImage(this)" multiple id="file">
                <div id="file-img" style="margin-left: 1rem; width: 4rem; display: flex; flex-wrap: wrap; margin-top: -0.05rem;"></div>
           </div>
        </div>

        <div class="work_experience">
            <div class="title">
                <div class="text">工作经历</div>
                <img src="../../image/add-1.png" alt="" onclick="showMask()">
            </div>
            <div class="content">
                <div class="left">
                    <div class="text1">微融智联科技有限公司</div>
                    <div class="text2">2015年05月至2020年9月</div>
                    <div class="text3">UI设计</div>
                </div>
                <div class="right">
                    <img src="../../image/edit.png" alt="">
                    <img src="../../image/del.png" alt="">
                </div>
            </div>
        </div>

        <div class="education_experience">
            <div class="title">
                <div class="text">教育经历</div>
                <img src="../../image/add-1.png" alt="">
            </div>
            <div class="content">
                <div class="left">
                    <div class="text1">微融智联科技有限公司</div>
                    <div class="text2">2015年05月至2020年9月</div>
                    <div class="text3">UI设计</div>
                </div>
                <div class="right">
                    <img src="../../image/edit.png" alt="">
                    <img src="../../image/del.png" alt="">
                </div>
            </div>
        </div>


        <div class="submit" id="submit">
            <input type="submit" value="保存">
        </div>

        <!-- mask -->
        <div class="mask" id="mask">
            <div class="main">
                <div class="title">添加工作经历</div>
                <div class="address ipt-common2">
                    <div class="text">
                        <div class="">公司名称<span>*</span></div>
                    </div>
                    <input type="text" value="" placeholder="请输入公司名称">
                </div>
                <div class="address ipt-common2">
                    <div class="text">
                        <div class="">职位名称<span>*</span></div>
                    </div>
                    <input type="text" value="" placeholder="请输入职位名称">
                </div>
                <div class="ipt-common">
                    <div class="text">
                        <div class="">开始时间<span>*</span></div>
                    </div>
                    
                    <input type="text" value="" placeholder="请选择开始时间" readonly id="start_time" onclick="showSelect('start_time')">
                    <img src="../../image/right.png" alt="" onclick="showSelect('start_time')">
                </div>
                <div class="ipt-common">
                    <div class="text">
                        <div class="">结束时间<span>*</span></div>
                    </div>
                    <input type="text" value="" placeholder="请选择结束时间" readonly id="end_time" onclick="showSelect('end_time')">
                    <img src="../../image/right.png" alt="" onclick="showSelect('end_time')">
                </div>
                <div class="btn">
                    <div class="left" id="cancel" onclick="confirmData()">确认</div>
                    <div class="right" id="confirm" onclick="cancelMask()">取消</div>
                </div>
            </div>
        </div>

    </form>

</body>

<script src="../../js/lib/rem.js"></script>
<script src="../../js/lib/src/user/resume.js"></script>
<script src="../../js/lib/src/select_one_common.js"></script>
<script src="../../js/lib/src/select_one_two_common.js"></script>
<!-- 插件 -->
<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
<script src="../../js/lib/src/plugins-js/jquery.scs.min.js"></script>
<!-- <script src="../../js/lib/src/plugins-js/CNAddrArr.min.js"></script> -->
<script src="../../js/lib/src/plugins-js/address.js"></script>

<script src="../../js/lib/src/time-plugins/mui.min.js"></script>
<script src="../../js/lib/src/time-plugins/mui.picker.min.js"></script>
<script type="text/javascript">

        // 精确到分，时间选择
        mui.init()
        document.getElementById('tiem_select').addEventListener('click', function(){
		    // option={"type":"date","beginYear":"1980","endYear":"2030"};
            var mui_mask = document.createElement("div");
            mui_mask.style.position = "absolute";
            mui_mask.style.width = 100 +"%";
            mui_mask.style.height = 100 +"%";
            mui_mask.style.left = 0;
            mui_mask.style.top = 0;
            mui_mask.style.backgroundColor = "black";
            mui_mask.style.opacity = 0.3;
            document.body.appendChild(mui_mask);
		     var picker = new mui.DtPicker({ type: 'time' });
             document.querySelector("button[data-id=btn-cancel]").addEventListener('tap', function(){
                mui_mask.remove()
                document.getElementsByClassName('mui-dtpicker')[0].remove();
		    });
            document.querySelector("button[data-id=btn-ok]").addEventListener('tap', function(){
                mui_mask.remove()
                document.getElementsByClassName('mui-dtpicker')[0].remove();
		    },false);
 
		     picker.show(function(rs) {
                
                mui_mask.remove()
		        document.getElementById('birthday').value = rs.text;
		     }); 
		},false);

      // 获取复选框的值
        document.getElementById("submit").onclick = function(){
            var checkboxArr = [];
            var checkbox = document.getElementsByClassName("checkbox");
            for(var i = 0;i<checkbox.length;i++){
                if(checkbox[i].checked){
                    checkboxArr.push(checkbox[i].value);
                }
            }
            console.log(checkboxArr)
            return false
        }
        // 多张图片上传
        var file_img = document.getElementById("file-img");
        var index = 0;
        var imgData = []; //多图上传
        function selectImage(file){
            console.log(file.files)
            if(!file.files || !file.files[0]){
                return;
            }
            for(var i = 0;i<file.files.length;i++){
                imgData.push(file.files[i]);
                var reader = new FileReader();
                reader.onload = function(evt){
                var div = document.createElement("div");
                div.className = "pic";
                var img = document.createElement('img');
                console.log(evt.target.result)
                img.src = evt.target.result;
                var del = document.createElement("div");
                del.className = "del";
                del.setAttribute("index",index);
                div.setAttribute("index",index);
            
                del.onclick = function(){
                var file = document.getElementById("file");
                var div = document.getElementsByClassName("pic");
                for(var i = 0;i<div.length;i++){
                    if(div[i].getAttribute("index") == del.getAttribute("index")){
                    div[i].remove();
                    imgData.splice(i,1);
                    }
                }       
                }
                index++;
                div.appendChild(img);
                div.appendChild(del);
                file_img.appendChild(div);
            }
                reader.readAsDataURL(file.files[i]);
            }
        }
</script>
</html>
